:root{
  --bg:#0f1316; --bg-2:#151a1f; --text:#e9eef3; --muted:#a7b1bb;
  --accent:#3ae5a4; --accent-text:#052b1f; --card:#151a1f; --border:#222a31;
}
:root.light{ --bg:#f7f9fb; --bg-2:#fff; --text:#0b1116; --muted:#47525d; --card:#fff; --border:#dde3ea; --accent:#2ecc71; --accent-text:#05391f;}
:root.amoled{ --bg:#000; --bg-2:#0b0b0b; --text:#f4f8fb; --muted:#9aa7b2; --card:#0b0b0b; --border:#151515; --accent:#00e59a; --accent-text:#013b28; }

*{box-sizing:border-box} html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:15px/1.5 system-ui,Segoe UI,Roboto,Helvetica,Arial}
button,select{font:inherit}
.topbar{position:sticky;top:0;display:flex;align-items:center;justify-content:space-between;background:var(--bg-2);padding:14px 18px;border-bottom:1px solid var(--border);z-index:10}
h1{margin:0;font-weight:800;letter-spacing:.3px}
.right{display:flex;gap:10px;align-items:center}
.mini{color:var(--muted)}

.pill{background:var(--accent);color:var(--accent-text); border:0; padding:10px 14px;border-radius:999px;font-weight:700}
.ghost{background:transparent;border:1px solid var(--border);color:var(--text);padding:10px 14px;border-radius:10px}
.primary{box-shadow:0 6px 20px rgb(58 229 164 / .25)}
.danger{background:#ff4d4f;color:white;border:0;border-radius:10px;padding:10px 14px}

.screen{padding:18px;max-width:900px;margin:0 auto}
.hidden{display:none}
.hero{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:18px;margin-bottom:18px}
.grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:14px}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;text-align:left;color:var(--text)}
.card h3{margin:0 0 6px 0}

.module-header{display:flex;align-items:center;justify-content:space-between;background:var(--card);border:1px solid var(--border);border-radius:18px;padding:14px;margin-bottom:12px}
.how{background:var(--bg-2);border:1px dashed var(--border);border-radius:12px;padding:12px;margin:10px 0;color:var(--muted)}
.stage{width:100%;max-width:560px;display:block;margin:12px auto;background:var(--bg-2);border:1px solid var(--border);border-radius:16px;touch-action:manipulation}
.hud{display:flex;align-items:center;justify-content:space-between;gap:10px;background:var(--card);border:1px solid var(--border);border-radius:16px;padding:10px}

dialog{border:0;border-radius:16px;padding:0;background:transparent}
.sheet{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;min-width:280px}
.row{display:flex;align-items:center;justify-content:space-between;margin:10px 0}
menu{display:flex;gap:10px;justify-content:flex-end;margin:10px 0 0 0;padding:0}
