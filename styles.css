:root{
  --bg:#0e1014;--fg:#e9edf5;--card:#151922;--accent:#4bd6b5;--muted:#8a93a7;
  --r:16px;--shadow:0 10px 30px rgba(0,0,0,.45);
  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--fg);font-family:var(--font);-webkit-tap-highlight-color:transparent;touch-action:manipulation}
.appbar{position:sticky;top:0;display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:linear-gradient(180deg,rgba(0,0,0,.45),transparent);backdrop-filter:blur(10px);z-index:10}
.brand{margin:0}
.right{display:flex;gap:10px;align-items:center}
.pill{border:none;border-radius:999px;background:var(--accent);color:#081014;padding:8px 14px;font-weight:600;cursor:pointer;transition:transform .08s ease-out}
.pill:active{transform:scale(.97)}
.pill.ghost{background:transparent;outline:1px solid rgba(255,255,255,.15);color:var(--fg)}
.muted{color:var(--muted)} .small{font-size:.9rem}
.wrap{padding:16px;display:grid;gap:16px;max-width:1000px;margin:0 auto}
.card{background:var(--card);border-radius:var(--r);padding:16px;box-shadow:var(--shadow)}
.hero{display:flex;justify-content:space-between;gap:12px;align-items:center}
.stats{display:flex;gap:14px}
.stat-label{font-size:.8rem;color:var(--muted)}
.stat-value{font-weight:800;font-size:1.2rem}
.grid-mods{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
.mod{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:16px;text-align:left;color:inherit}
.mod-title{font-weight:700}
.mod-sub{color:var(--muted);font-size:.9rem;margin-top:4px}

.row{display:flex;gap:10px}
.row.gap{gap:10px}
.row.between{justify-content:space-between}
.center{align-items:center}

.backdrop{position:fixed;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(3px);z-index:20}
.drawer{position:fixed;right:0;top:0;width:min(520px,96vw);height:100dvh;background:var(--bg);border-left:1px solid rgba(255,255,255,.06);box-shadow:var(--shadow);transform:translateX(100%);transition:transform .18s ease-out;z-index:21}
.drawer.open{transform:none}
.drawer-head{display:flex;justify-content:space-between;align-items:center;padding:16px}
.icon{background:transparent;border:none;color:var(--fg);font-size:20px;cursor:pointer}
.drawer-sec{padding:0 16px 16px}
.grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px}
.grid2{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}

.switch{display:flex;align-items:center;gap:8px}

.banner{margin-top:8px;background:rgba(75,214,181,.15);padding:10px;border-radius:10px;display:flex;justify-content:space-between;align-items:center}

.module-area{min-height:320px}
.game-board{position:relative;min-height:260px;display:grid;place-items:center}

.circle{width:64px;height:64px;border-radius:50%;background:var(--accent);opacity:.2;transition:opacity .1s transform .08s}
.circle.active{opacity:1;transform:scale(1.05)}

.grid-board{display:grid;gap:8px;justify-content:center;align-content:center}
.cell{width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,.08)}
.cell.odd{outline:2px solid var(--accent)}

.sequence{display:grid;gap:8px;grid-template-columns:repeat(5,40px);justify-content:center}
.seq-cell{width:40px;height:40px;border-radius:8px;background:rgba(255,255,255,.08);transition:opacity .12s}
.seq-cell.flash{background:var(--accent)}

.nback-board{display:grid;place-items:center;gap:8px}
.nback-grid{display:grid;grid-template-columns:repeat(3,64px);gap:8px}
.nb-cell{width:64px;height:64px;border-radius:8px;background:rgba(255,255,255,.08)}
.nb-cell.on{background:var(--accent)}

.confetti-layer{position:fixed;inset:0;pointer-events:none;z-index:30}
