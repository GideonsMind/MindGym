*{box-sizing:border-box}
:root{
  --bg:#0b1220; --panel:#121a2b; --card:#0f1726; --muted:#8aa1c0;
  --fg:#eaf2ff; --accent:#39d399; --accent-2:#2bb3ff; --danger:#ff5a67;
  --ring: rgba(57,211,153,.25);
  --shadow: 0 10px 30px rgba(0,0,0,.3);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter, "Helvetica Neue", Arial;
}
body{margin:0;color:var(--fg);background:var(--bg)}
.topbar{display:flex;align-items:center;gap:12px;padding:16px 18px;position:sticky;top:0;background:linear-gradient(180deg, rgba(11,18,32,1), rgba(11,18,32,.6));backdrop-filter:saturate(1.2) blur(6px);z-index:20}
.topbar .dot{width:12px;height:12px;border-radius:99px;background:#57606a;box-shadow:0 0 0 6px rgba(87,96,106,.15)}
.topbar .online{background:#39d399}
.topbar h1{font-size:28px;margin:0 6px 0 0;font-weight:800;letter-spacing:.5px}
.topbar .stats{margin-left:auto;display:flex;gap:12px;color:var(--muted);font-weight:700}
.pill{border:0;border-radius:999px;background:var(--accent);color:#082313;font-weight:800;padding:10px 14px}
.hero{margin:16px 18px;padding:18px;border-radius:16px;background:linear-gradient(180deg, rgba(19,29,49,.85), rgba(19,29,49,.35));box-shadow:var(--shadow)}
.hero h2{margin:0 0 8px 0;font-size:26px}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin:16px 18px}
.card{background:var(--card);color:var(--fg);text-align:left;border-radius:18px;padding:14px;border:2px solid transparent;box-shadow:var(--shadow)}
.card strong{display:block;font-size:22px;margin-bottom:6px;color:var(--accent-2)}
.card span{color:var(--muted);font-size:14px;display:block}
.card:focus,.card:hover{outline:none;border-color:var(--accent);box-shadow:0 0 0 6px var(--ring)}

.panel{margin:18px;border-radius:18px;background:var(--panel);box-shadow:var(--shadow)}
.panel-head{display:flex;align-items:center;gap:12px;padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.06)}
.panel-head h3{margin:0;font-size:26px}
.panel .actions{margin-left:auto;display:flex;gap:10px}
.btn{border:0;border-radius:12px;padding:10px 14px;background:#1a2539;color:#eaf2ff}
.btn:hover{background:#22304b}
.panel-body{padding:14px 16px}
.controls{display:flex;gap:10px;margin:12px 0}
.hud{display:flex;gap:18px;color:var(--muted);font-weight:700}

#stage{min-height:360px;border-radius:14px;background:linear-gradient(180deg,#0e1626,#101a2c);display:grid;place-items:center;padding:18px}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.cell{width:64px;height:64px;border-radius:14px;background:rgba(255,255,255,.08);display:grid;place-items:center;transition:transform .08s ease, background .12s ease}
.cell.hot{background:var(--accent);transform:scale(1.06)}
.cell.bad{background:var(--danger)}

dialog::backdrop{background:rgba(0,0,0,.6)}
dialog{border:0;border-radius:18px;padding:0;max-width:500px;width:92vw;background:var(--panel);color:var(--fg)}
.settings{padding:16px;display:grid;gap:12px}
.settings h4{margin:0 0 6px 0}
.settings label{display:grid;gap:6px}
.settings .row{display:flex;align-items:center;gap:10px}
.settings menu{margin:0;display:flex;gap:10px;justify-content:flex-end}
.danger{background:var(--danger);color:white;border:0;border-radius:12px;padding:10px 14px;font-weight:800}

/* Light / AMOLED themes */
:root.theme-light{--bg:#f5f7fb;--panel:#ffffff;--card:#ffffff;--fg:#0a1220;--muted:#4b5566;--ring:rgba(43,179,255,.25)}
:root.theme-amoled{--bg:#000;--panel:#0a0a0a;--card:#0b0b0b}
